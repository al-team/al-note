## 低代码项目难点

0. 开发方向

无产品借入，需求走向需要自我调研，整个系统的发展方向的定义，等等。

1. 除了需要满足对展示型页面的设计需求外, 我们更多的是要和企业自身业务打通,比如如何实现跨系统间的交互, 如何实现基本元素的交互能力, 如何植入外部 API 使得数据流向企业内部等

开源系统，打成包，外部注入定制化的渲染组件。保持优秀的可二次开发能力。

2. 渲染问题

物料加载问题，npm 内置包 / 懒加载 / umd 加载（缓存）

3. 数据流通问题

iframe 与装饰器的一些数据传输方式，拖拽问题等。

4. ci/cd 版本控制、物料市场延伸

## 魔搭性能优化

1. 物料的动态加载（理解什么是运行时加载和编译时加载）
2. UMD 文件的懒加载，利用缓存

## 魔搭的设计体系

0. 需求：面向普通用户 & 前端开发用户 一开始只针对小程序页面装修 现在已经应用到 h5 页面了
1. 技术选型 ts + jotai + lerna【mbox redux hox context】
2. 项目规范 husky + pre-commit + eslint
3. 测试 监控 无
4. 自动化 CI/CD，采用的是 lerna 以及自开发一套脚手架（打包上传）
5. 文档

（单元测试、代码规范、提交规范以及自动 CI 等）

逻辑布局，平排处理：好处就是可维护性强，简单，减少理解成本，缺点是无法自由自在，由物料决定。

## 当前工作

1. 低代码平台的搭建负责人、慧眼营销业务主要负责人，前端导师
2. 负责的内容除业务外，还有组件库、hooks、项目规范、以及一些组件文档的建设
3. 与前后端协定规范、多人开发

（为什么你可以达到这个工资水平）

1. 我负责的东西比我 title 高一级的人还多，而且领导很喜欢把任务先给我一起商量解决方案
2. 态度问题，比较端正 会追中下去。产品或者测试、后端有问题 第一时间找的是我
3. 别的同事不愿意去做的 比如技术债问题 我会做

code review、问题解决方案、公司自建平台的解决方案。

## 哪些优化措施

1. UMD 加载、
2. extranal、cdn、雪碧图，webpack 懒加载
3. 预加载与懒加载

## setState 同步异步？

1. 为什么设计成异步的样子？如果是同步的话，万一阻塞了呢
2. 看场景，在组件生命周期或 React 合成事件中, setState 是异步的， 在 setTimeout 或原生 DOM 事件中, setState 是同步的
3. 看采用哪种模式。
   1. Legacy 模式
   2. blocking
   3. concurrent

```js
state = 0;

this.setState({ num: 1 });
console.log('step1: ', this.state.num); // 0
setTimeout(() => {
  this.setState({ num: 2 });
  console.log('step2: ', this.state.num); // Legacy 模式 2， concurrent 模式：0
});
```
